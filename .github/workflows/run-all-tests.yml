on:
  schedule:
    - cron: '52 3 * * *'
  workflow_dispatch:
jobs:
  ci_test_job:
    runs-on: ubuntu-latest
    name: CI Test
    steps:
      - uses: actions/checkout@v3.1.0
      - name: Setup JDK Java 21
        uses: actions/setup-java@v3
        with:
          java-version: '21'
          distribution: 'temurin'
      - name: run unit tests and integration tests
        run: |
          mvn -B -f dictionary-rest-api/pom.xml clean verify -DskipITs=false
      - name: run end-to-end tests
        run: |
          cd dictionary-rest-api/end2end-tests
          source run.sh
